<div class="container" fxLayout="row" fxLayoutAlign="center">
  <mat-toolbar color="primary" fxFlex="90" fxFlex.lt-md="100">
    <mat-toolbar-row fxLayout="row" fxLayoutAlign="space-between center">
      <div fxLayout="row">
        <button mat-icon-button (click)="sidenav.toggle()" fxHide.gt-sm>
          <mat-icon>menu</mat-icon>
        </button>
        <a class="brand" href="/" fxLayout="row" fxLayoutGap="10px">
          <img class="logo" alt="bblu logo" src="assets/image/logo.png" />
          <span>借借露</span>
        </a>
      </div>

      <div fxHide.lt-md>
        <!-- The following menu items will be hidden on both SM and XS screen sizes -->
        <button mat-button class="web-nav-item" routerLink="/product">
          商品列表
        </button>
        <button mat-button class="web-nav-item" routerLink="/borrow">
          租借紀錄
        </button>
        <button mat-button class="web-nav-item" routerLink="/faq">
          常見問題
        </button>
        <button
          mat-button
          class="web-nav-item user"
          routerLink="/user"
          *ngIf="isAuth$ | async"
        >
          <mat-icon>person</mat-icon>
          {{ account$ | async }}
        </button>
        <button mat-button class="web-nav-item">
          <mat-icon matBadge="15" matBadgeColor="warn">notifications</mat-icon>
        </button>
        <button
          mat-button
          class="web-nav-item"
          routerLink="/auth/logout"
          *ngIf="isAuth$ | async; else login"
        >
          登出
        </button>
        <ng-template #login>
          <button mat-button class="web-nav-item" routerLink="/auth/login">
            登入
          </button>
        </ng-template>
      </div>
    </mat-toolbar-row>
  </mat-toolbar>
</div>

<mat-sidenav-container>
  <mat-sidenav #sidenav>
    <mat-nav-list>
      <a mat-list-item routerLink="/product">商品列表</a>
      <a mat-list-item routerLink="/borrow">租借紀錄</a>
      <a mat-list-item routerLink="/faq">常見問題</a>
      <a mat-list-item routerLink="/user" *ngIf="isAuth$ | async">
        <mat-icon>person</mat-icon>
        {{ account$ | async }}
      </a>
      <a mat-list-item class="web-nav-item">
        <mat-icon matBadge="15" matBadgeColor="warn">notifications</mat-icon>
        通知
      </a>
      <a
        mat-list-item
        routerLink="/auth/logout"
        *ngIf="isAuth$ | async; else login"
      >
        登出
      </a>
      <ng-template #login>
        <a mat-list-item routerLink="/auth/login">登入</a>
      </ng-template>
    </mat-nav-list>
  </mat-sidenav>

  <mat-sidenav-content>
    <img class="banner" alt="banner" src="assets/image/banner.png" />
    <mat-spinner [diameter]="50" *ngIf="showSpinner$ | async"></mat-spinner>
    <router-outlet></router-outlet>
  </mat-sidenav-content>
</mat-sidenav-container>
